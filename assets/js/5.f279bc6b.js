(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{427:function(t,e,a){"use strict";a.r(e);var n=a(5),l=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"用-conventional-来做-changelog-的简单配置说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用-conventional-来做-changelog-的简单配置说明"}},[t._v("#")]),t._v(" 用 conventional 来做 changelog 的简单配置说明")]),t._v(" "),a("h2",{attrs:{id:"日志操作相关命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日志操作相关命令"}},[t._v("#")]),t._v(" 日志操作相关命令")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 全局安装conventional-changelog commitizen\nnpm install -g conventional-changelog commitizen\n\n// 提交代码\ngit cz\n\n// 打tag自动生成changelog\nnpm version [major|minor|patch]\n\n")])])]),a("p",[t._v("以下是在阮一峰基础上的扩展"),a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"cz-customizable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cz-customizable"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/leonardoanalista/cz-customizable",target:"_blank",rel:"noopener noreferrer"}},[t._v("cz-customizable"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("分类别添加 scope")]),t._v(" "),a("ul",[a("li",[t._v("安装")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 之前要安装commitizen\n// install\nnpm install cz-customizable --save-dev\n")])])]),a("ul",[a("li",[t._v("添加 package.json 配置")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('...\n"config": {\n  "commitizen": {\n    "path": "node_modules/cz-customizable"\n  },\n  // 这个默认指向.cz-config.js\n  "cz-customizable": {\n    "config": "config/path/to/my/config.js"\n  }\n}\n')])])]),a("ul",[a("li",[t._v(".cz-config.js")])]),t._v(" "),a("p",[t._v("配置默认有个"),a("a",{attrs:{href:"https://github.com/leonardoanalista/cz-customizable/blob/master/cz-config-EXAMPLE.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("example"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("运行 git cz 后会让你选择你配置的 scopes")]),t._v(" "),a("h2",{attrs:{id:"commitlint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commitlint"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/marionebl/commitlint",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitlint"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("在阮一峰的文档里面，validate-commit-msg 官网写着已经废弃，并指向了 commitlint")]),t._v(" "),a("p",[t._v("安装步骤就不详细说了，具体见"),a("a",{attrs:{href:"https://marionebl.github.io/commitlint/#/guides-local-setup",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("这里引入了"),a("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[t._v("husky"),a("OutboundLink")],1),t._v('，在 git commit -m "" 或者直接 vscode 提交，项目提交都进行 hook，并抛出错误')]),t._v(" "),a("h2",{attrs:{id:"思考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#思考"}},[t._v("#")]),t._v(" 思考")]),t._v(" "),a("p",[t._v("运用 conventional-changelog 官方都是推荐的 angular 的默认配置，也看过一些别的配置，由于配置项过多没有自己实现一个；后续可以根据项目需要自己去做一个相关的 js 配置。")]),t._v(" "),a("p",[t._v("比较不喜欢的一点就是 angular 的配置，只有 fix,feature 及其他 2 个可以生成在配置文件中，doc 居然不行。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方的说法是："),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v('This will not overwrite any previous changelog. The above generates a changelog based on commits since the last semver tag that match the pattern of a "Feature", "Fix", "Performance Improvement" or "Breaking Changes".')])]),t._v(" "),a("p",[t._v("我测试了下还有个 Reverts 回退，是会记录在 changelog 上面的；")]),t._v(" "),a("p",[t._v("有一些项目中的 merge，打包等，暂时没有选项，可以先写在不被记录的一些选项上，比如 doc。")]),t._v(" "),a("h3",{attrs:{id:"附-commit-head-用途一览"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附-commit-head-用途一览"}},[t._v("#")]),t._v(" 附，commit head：用途一览")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("值")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("feat")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("新增一个功能")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("fix")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("修复一个 Bug")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("docs")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("文档变更")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("style")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("代码风格变更（不影响功能，例如空格、分号等格式修正以及代码"),a("code",[t._v("review")]),t._v("缺陷修复等）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("refactor")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("重构（不是修复 Bug，也不是新增功能）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("perf")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("改善性能")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("test")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("增加测试")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("chore")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("开发工具变动（构建，脚手架工具等）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("revert")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("代码回退")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("相关文献")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Commit message 和 Change log 编写指南 阮一峰"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=l.exports}}]);